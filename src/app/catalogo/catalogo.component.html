<header class="app-header" style="background-color: a51c30;">
  <!-- <div id="spinner" class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50  d-flex align-items-center justify-content-center">
    <div class="spinner-grow text-primary" role="status"></div>
  </div> -->
  <div class="container-fluid fixed-top">
    <div class="container topbar bg-primary d-none d-lg-block">
        <div class="topbar-grid">
            <div class="top-info">
                <small><i class="fa fa-map-marker me-2 text-white"></i> <a href="#" class="text-white">Adolfo Mier, entre Pdte. Montes y Washington</a></small>
                <small><i class="fa fa-envelope me-2 text-white"></i><a href="#" class="text-white">reactivatic2024@gmail.com</a></small>
            </div>
            <div class="top-link">
                <!-- <a href="#" class="text-white"><small class="text-white mx-2">Privacy Policy</small>/</a>
                <a href="#" class="text-white"><small class="text-white mx-2">Terms of Use</small>/</a>
                <a href="#" class="text-white"><small class="text-white ms-2">Sales and Refunds</small></a> -->
            </div>
        </div>
    </div>
    <div class="container px-0">
        <nav class="navbar navbar-light bg-white navbar-expand-xl">
            <a href="" class="navbar-brand"><img src="assets/imagenes/logo.png" class="img-fluid" width="100px"/></a>
            <button class="navbar-toggler py-2 px-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="fa fa-bars text-primary"></span>
            </button>
            <div class="collapse navbar-collapse bg-white" id="navbarCollapse">
                <div class="navbar-nav mx-auto">
                    <a href="index.html" class="nav-item nav-link active">Inicio</a>
                    <a href="shop.html" class="nav-item nav-link">Tienda</a>
                    <a href="shop-detail.html" class="nav-item nav-link">Detalle Tienda</a>
                    <div class="nav-item dropdown pt-2">
                        <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Pages</a>
                        <div class="dropdown-menu">
                            <a href="cart.html" class="dropdown-item">Cart</a>
                            <a href="checkout.html" class="dropdown-item">Checkout</a>
                            <a href="testimonial.html" class="dropdown-item">Testimonial</a>
                            <a href="404.html" class="dropdown-item">404 Page</a>
                        </div>
                    </div>
                    <a href="contact.html" class="nav-item nav-link">Contact</a>
                </div>
                <div class="navbar-icons">
                    <button class="btn border border-secondary btn-md-square rounded-circle bg-white me-4" data-bs-toggle="modal" data-bs-target="#searchModal"><i class="fa fa-search text-primary"></i></button>
                    <a  class="position-relative puntero" (click)="fsolicitar(solicita)">
                        <i class="fa fa-shopping-bag fa-2x text-primary"></i>
                        <span class="badge badge-primary" *ngIf="cantidadcarrito.cantidad > 0">{{ cantidadcarrito.cantidad }}</span>
                    </a>
                    <a  class="user-icon puntero" (click)="faccesom(accesom)">
                        <i class="fa fa-user fa-2x text-primary"></i>
                    </a>
                </div>
            </div>
        </nav>
    </div>
</div>

  <!-- <p style="color: #fff;text-align:center;padding: 0 15px;font-size:26px;">REACTIVA TIC</p>
  <ul class="app-nav">
    <li class="dropdown">
      <p class="app-nav__item text-right" *ngIf="localnombre" style="color: white;">Bienvenido: {{ localnombre }} </p>
    </li>
    <li class="dropdown">
      <a *ngIf="localnombre==''" class="app-nav__item text-right" (click)="faccesom(accesom)" style="color: white;">Ingresar a sistema <i class="fa fa-sign-in fa-lg"></i></a>
      <a *ngIf="localnombre" class="app-nav__item text-right" (click)="fsalir()" style="color: white;"><i class="fa fa-sign-out fa-lg"></i> Cerrar sesión</a>
    </li>
  </ul> -->
</header>

<!-- <div class="container-lg" style="padding-top: 70px;">
    <div class="row mb-2">
      <div class="col-md-2">
        <p class="text-left d-none d-lg-block mt-4">
          <img src="assets/imagenes/logogadorblack.png" class="rounded" width="110px"/>
          </p>
          <p class="text-center d-none d-lg-none d-sm-block d-block mt-4">
            <img src="assets/imagenes/logogadorblack.png" class="rounded" width="100px"/>
        </p>
      </div>

        <div class="col-md-4">
            <p class="text-left d-none d-lg-block mt-4">
                <img src="assets/imagenes/logo.png" class="img-fluid" />
            </p>
            <p class="text-center d-none d-lg-none d-sm-block d-block mt-4">
                <img src="assets/imagenes/logo.png" class="img-fluid" />
            </p>
        </div>
        <div class="col-md-6" *ngIf="cantidadcarrito">
            <h1 class="text-primary text-right mt-4">
                <button class="btn btn-outline-primary " (click)="fsolicitar(solicita)">
                  <i class="fa fa-shopping-cart fa-3x"></i> Mi carrito
                  <span class="badge badge-primary" *ngIf="cantidadcarrito.cantidad > 0">{{ cantidadcarrito.cantidad }}</span>
                </button>
            </h1>
        </div>
    </div>
</div> -->
<div class="container-fluid py-5 mb-5 hero-header">
  <div class="container py-5">
      <div class="row g-5 align-items-center">
          <div class="col-md-12 col-lg-7">
              <div class="position-relative mx-auto">
                  <input class="form-control border-2 border-secondary w-75 py-3 px-4 rounded-pill" type="texto" [(ngModel)]="buscar"  placeholder="Producto a buscar..." (keyup)="fbuscar()">
                  <button type="submit" class="btn btn-primary border-2 border-secondary px-4 position-absolute rounded-pill text-white h-100" style="top: 0; right: 25%;" (click)="limpiar()">Limpiar</button>
              </div>
          </div>
          <div class="col-md-12 col-lg-5">
              <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                  <div class="carousel-inner" role="listbox">
                      <div class="carousel-item active rounded">
                          <img src="assets/catalogo/img/hero-img-1.png" class="img-fluid w-100 h-100 bg-secondary rounded" alt="First slide">
                          <a href="#" class="btn px-4 py-2 text-white rounded">Fruites</a>
                      </div>
                      <div class="carousel-item rounded">
                          <img src="assets/catalogo/img/hero-img-2.jpg" class="img-fluid w-100 h-100 rounded" alt="Second slide">
                          <a href="#" class="btn px-4 py-2 text-white rounded">Vesitables</a>
                      </div>
                  </div>
                  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden"></span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden"></span>
                  </button>
              </div>
          </div>
      </div>
  </div>
</div>

<div class="container-fluid featurs py-2">
  <div class="container py-5">
      <div class="row g-4">
          <div class="col-md-6 col-lg-3">
              <div class="featurs-item text-center rounded bg-light p-4">
                  <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                      <i class="fa fa-car fa-3x text-white"></i>
                  </div>
                  <div class="featurs-content text-center">
                      <h5>Envíos Gratis</h5>
                      <p class="mb-0">Gratis en ordenes superior a Bs. 300</p>
                  </div>
              </div>
          </div>
          <div class="col-md-6 col-lg-3">
              <div class="featurs-item text-center rounded bg-light p-4">
                  <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                      <i class="fa fa-shield fa-3x text-white"></i>
                  </div>
                  <div class="featurs-content text-center">
                      <h5>Seguridad de Pago</h5>
                      <p class="mb-0">100% pago seguro</p>
                  </div>
              </div>
          </div>
          <div class="col-md-6 col-lg-3">
              <div class="featurs-item text-center rounded bg-light p-4">
                  <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                      <i class="fa fa-refresh fa-3x text-white"></i>
                  </div>
                  <div class="featurs-content text-center">
                      <h5>Devolucion en 30 días</h5>
                      <p class="mb-0">Garantía de dinero de 30 días</p>
                  </div>
              </div>
          </div>
          <div class="col-md-6 col-lg-3">
              <div class="featurs-item text-center rounded bg-light p-4">
                  <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                      <i class="fa fa-phone fa-3x text-white"></i>
                  </div>
                  <div class="featurs-content text-center">
                      <h5>24/7 Soporte</h5>
                      <p class="mb-0">Soporte rápido en todo momento</p>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

<div class="container-fluid fruite py-5">
  <div class="container py-5">
      <div class="tab-class text-center">
          <div class="row g-4 justify-content-center">

              <div class="col-lg-8 text-end">
                  <ul class="nav nav-pills d-inline-flex text-center mb-5">
                      <li class="nav-item">
                          <a class="puntero d-flex m-2 py-2 bg-light rounded-pill active" data-bs-toggle="pill">
                              <span class="text-dark" style="width: 130px;">Todos los Productos</span>
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="puntero d-flex py-2 m-2 bg-light rounded-pill" data-bs-toggle="pill">
                              <span class="text-dark" style="width: 130px;">Texiles</span>
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="puntero d-flex m-2 py-2 bg-light rounded-pill" data-bs-toggle="pill">
                              <span class="text-dark" style="width: 130px;">Artesanías</span>
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="puntero d-flex m-2 py-2 bg-light rounded-pill" data-bs-toggle="pill">
                              <span class="text-dark" style="width: 130px;">Alimentos</span>
                          </a>
                      </li>
                  </ul>
              </div>
          </div>
      </div>
  </div>
</div>
<div class="container-lg mt-5 pt-5">
    <div class="form-group row">
        <div class="col-md-6">
            <div class="input-group">
                <input type="text" class="form-control mr-2" [(ngModel)]="buscar" placeholder="Producto a buscar..." (keyup)="fbuscar()" />
                <span class="input-group-prepend">
          <!-- <button class="btn btn-outline-primary mr-2" (click)="fbuscar()">
            <i class="fa fa-search"></i> Buscar
          </button> -->
          <button class="btn btn-outline-dark" (click)="limpiar()">
            <i class="fa fa-list"></i> Limpiar
          </button>
        </span>
            </div>
        </div>
        <div class="col-md-6 mt-1" *ngIf="total > cantidad">
            <ngb-pagination class="d-flex justify-content-end align-items-baseline pagination-rounded" [collectionSize]="total" [(page)]="pagina" [pageSize]="12" [maxSize]="cantidad" [rotate]="false" [ellipses]="false" [boundaryLinks]="true" (pageChange)="mostrarMas($event)"
                size="sm"></ngb-pagination>
        </div>
        <div class="col-md-12">
            <p class="text-right" *ngIf="total == 1">
                Total: <b>{{ total }} registro</b>
            </p>
            <p class="text-right" *ngIf="total > 1">
                Total: <b>{{ total }} registros</b>
            </p>
        </div>
        <div class="col-md-12 justify-content-center">
          <ul class="list-inline">
            <li *ngFor="let _rubro of rubros" class="list-inline-item">
              <h5>
                <a (click)="fbuscarrubro(_rubro.rubro)" style="cursor: pointer"><span class="badge badge-primary">{{ _rubro.rubro }}</span></a>
              </h5>
            </li>
          </ul>
        </div>
    </div>

    <div class="row">
    <div class="col-md-12">
      <div class="row">
        <div
          class="col-md-3 col-sm-6"
          *ngFor="let _item of datos; let i = index"
        >
          <div class="card border-0 mb-grid-gutter">
            <div class="main-img text-center">
              <a (click)="fdetalle(_item.idproducto)" style="cursor: pointer">
              <img
                [src]="ruta+_item.idproducto"
                class="img-thumbnail"
                weight="200px"
                height="200px"
              />
            </a>
            </div>
            <div class="card-body border-0 mt-n1 py-4 text-center">
              <h2 class="h5 mb-1" style="color: #a51c30">
                <a (click)="fdetalle(_item.idproducto)" style="cursor: pointer">{{ _item.producto }}</a>
              </h2>
              <p class="d-block mb-3 font-size-xs text-muted">
                Precio de Referencia
                <span class="font-weight-semibold"
                  >{{ _item.precioventa }} Bs</span
                >
              </p>
              <button class="btn btn-pill btn-outline-primary btn-sm" (click)="fbuscaritemempresa(_item.empresa.empresa)">
                <i class="fa fa-search"></i>
              </button>
              <button
                class="btn btn-pill btn-outline-primary btn-sm m-2"
                (click)="fadicionar(_item.idproducto, 1, solicitaproducto)"
              >
                <i class="fa fa-cart-plus"></i>
              </button>
              <button
                class="btn btn-pill btn-outline-primary btn-sm mr-2"
                (click)="fwhastapp(_item.empresa.celular)"
              >
                <i class="fa fa-whatsapp"></i>
              </button>
              <button
                class="btn btn-pill btn-outline-primary btn-sm"
                (click)="fempresa(_item.empresa, empresa)"
              >
                <i class="fa fa-home"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="col-lg-12" *ngIf="total > cantidad">
          <ngb-pagination
            class="d-flex justify-content-center pagination-rounded"
            [collectionSize]="total"
            [(page)]="pagina"
            [maxSize]="cantidad"
            [pageSize]="12"
            [rotate]="false"
            [ellipses]="false"
            [boundaryLinks]="true"
            (pageChange)="mostrarMas($event)"
          ></ngb-pagination>
        </div>
      </div>
    </div>
  </div>
</div>
  <footer class="container-fluid" >
    <p class="app-footer__logo text-center">
      <small>Potenciado por: CNVF &copy; 2008-{{ gestion }} IngeSoft</small>
    </p>
  </footer>

  <ng-template #solicita>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Mi Carrito</h4>
    </div>
    <div class="modal-body">
      <div class="table-responsive" *ngIf="carritos?.length > 0">
        <table class="table table-sm">
          <thead>
            <tr class="table-primary">
              <th class="text-left">Producto</th>
              <th class="text-right">Cantidad</th>
              <th class="text-right">Operaciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let _item of carritos; let i = index">
              <td class="text-left">{{ _item.producto.producto }}</td>
              <td class="text-right">{{ _item.cantidad }}</td>
              <td class="text-right">
                <button
                  class="btn btn-outline-primary"
                  (click)="feliminar(_item.idproducto)"
                >
                  <i class="fa fa-times-circle"> Eliminar</i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="text-center">
          <button
            class="btn btn-primary mr-2"
            (click)="fprocesa(pedido)"
          >
            <span><i class="fa fa-cogs"></i> Procesa la solicitud</span>
          </button>
        </div>
      </div>
      <h3 class="text-center" *ngIf="!(carritos?.length > 0)">
        Tu carrito esta vacío
      </h3>
      <div class="text-center" *ngIf="!(carritos?.length > 0)">
        <button class="btn btn-primary mr-2" (click)="fcerrar()">
          <span><i class="fa fa-close"></i> Cerrar</span>
        </button>
      </div>
    </div>
  </ng-template>

  <ng-template #solicitaproducto>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Mi Carrito</h4>
    </div>
    <div class="modal-body">
      <div class="table-responsive" *ngIf="carritos?.length > 0">
        <div class="table-responsive">
          <table class="table">
              <thead>
                  <tr>
                      <th scope="col">Products</th>
                      <th scope="col">Name</th>
                      <th scope="col">Price</th>
                      <th scope="col">Quantity</th>
                      <th scope="col">Total</th>
                      <th scope="col">Handle</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <th scope="row">
                          <div class="product-image">
                              <img src="img/vegetable-item-3.png" alt="Big Banana">
                          </div>
                      </th>
                      <td class="product-name">
                          <p>Big Banana</p>
                      </td>
                      <td class="product-price">
                          <p>2.99 $</p>
                      </td>
                      <td class="product-quantity">
                          <div class="quantity-control">
                              <button class="btn-minus">
                                  <i class="fa fa-minus"></i>
                              </button>
                              <input type="text" value="1">
                              <button class="btn-plus">
                                  <i class="fa fa-plus"></i>
                              </button>
                          </div>
                      </td>
                      <td class="product-total">
                          <p>2.99 $</p>
                      </td>
                      <td class="product-handle">
                          <button class="btn-remove">
                              <i class="fa fa-times text-danger"></i>
                          </button>
                      </td>
                  </tr>
                  <!-- Repite las filas según sea necesario -->
              </tbody>
          </table>
      </div>
      <div class="coupon-apply mt-5">
          <input type="text" placeholder="Coupon Code">
          <button type="button">Apply Coupon</button>
      </div>
      <div class="row g-4 justify-content-end">
          <div class="col-8"></div>
          <div class="col-sm-8 col-md-7 col-lg-6 col-xl-4">
              <div class="cart-total">
                  <div class="cart-summary">
                      <h1>Cart <span>Total</span></h1>
                      <div class="subtotal">
                          <h5>Subtotal:</h5>
                          <p>$96.00</p>
                      </div>
                      <div class="shipping">
                          <h5>Shipping</h5>
                          <p>Flat rate: $3.00</p>
                          <p>Shipping to Ukraine.</p>
                      </div>
                  </div>
                  <div class="total-amount">
                      <h5>Total</h5>
                      <p>$99.00</p>
                  </div>
                  <button type="button">Proceed Checkout</button>
              </div>
          </div>
      </div>

        <div class="text-center">
          <button class="btn btn-primary mr-2" (click)="fcerrar()">
            <span><i class="fa fa-cogs"></i> Aceptar</span>
          </button>
        </div>
      </div>
      <h3 class="text-center" *ngIf="!(carritos?.length > 0)">
        Tu carrito esta vacío
      </h3>
      <div class="text-center" *ngIf="!(carritos?.length > 0)"></div>
    </div>
  </ng-template>

  <ng-template #empresa>
    <div class="modal-header">
      <h4 class="modal-title pull-left" *ngIf="datosempresa">
        {{ datosempresa.empresa }}
      </h4>
    </div>
    <div class="modal-body">
      <table class="table table-sm">
        <tr>
          <td>Empresa:</td>
          <td>
            <b>{{ datosempresa.empresa }}</b>
          </td>
        </tr>
        <tr>
          <td>Dirección:</td>
          <td>
            <b>{{ datosempresa.direccion }}</b>
          </td>
        </tr>
        <tr>
          <td>Teléfono:</td>
          <td>
            <b>{{ datosempresa.telefono }}</b>
          </td>
        </tr>
        <tr>
          <td>Celular:</td>
          <td>
            <b>{{ datosempresa.celular }}</b>
          </td>
        </tr>
        <tr>
          <td>Correo Electrónico:</td>
          <td>
            <b>{{ datosempresa.correo }}</b>
          </td>
        </tr>
      </table>
      <div class="text-center">
        <button class="btn btn-primary mr-2" (click)="fcerrar()">
          <span><i class="fa fa-close"></i> Cerrar</span>
        </button>
      </div>
    </div>
  </ng-template>


<ng-template #pedido>
  <div class="modal-header">
      <h4 class="modal-title pull-left"><i class="fa fa-edit"></i> Proceso de solicitud</h4>
      <div class="alert alert-info" role="alert">
          Estimado cliente Los campos remarcados con * son necesarios.
      </div>
  </div>
  <div class="modal-body">
      <form [formGroup]="formulario" (ngSubmit)="faceptar()">
          <div class="form-group">
              <label>Nombre completo <span class="text-danger"><b>*</b></span></label>
              <input type="text" class="form-control" formControlName="primerapellido" [class.is-invalid]="f.primerapellido.errors && f.primerapellido.touched" />
              <small *ngIf="f.primerapellido.errors&& f.primerapellido.touched" class="text-danger">
                El dato es obligatorio y solo permite letras
              </small>
          </div>
          <div class="form-group">
              <label>Celular <span class="text-danger"><b>*</b></span></label>
              <input type="number" class="form-control" formControlName="celular" [class.is-invalid]="f.celular.errors && f.celular.touched" />
              <small *ngIf="f.celular.errors && f.celular.touched" class="text-danger">
              El dato es obligatorio y solo permite numeros de celulares
              </small>
          </div>
          <div class="form-group">
              <label>Correo </label>
              <input type="email" class="form-control" formControlName="correo" [class.is-invalid]="f.correo.errors && f.correo.touched" />
              <small *ngIf="f.correo.errors && f.correo.touched" class="text-danger">
              El dato es obligatorio
              </small>
          </div>
          <div class="text-center">
              <button type="submit" class="btn btn-success m-2" [disabled]="!formulario.valid">
                <i class="fa fa-save"></i> Grabar
            </button>
              <button type="button" class="btn btn-danger" (click)="fcancelar()">
                <i class="fa fa-times"></i> Cancelar
            </button>
          </div>
      </form>
  </div>
</ng-template>

<ng-template #accesom>
  <div class="modal-header">
      <h4 class="modal-title pull-left"><i class="fa fa-edit"></i> Acceso al sistema</h4>
      <div class="alert alert-info" role="alert">
          Estimado cliente Los campos remarcados con * son necesarios.
      </div>
  </div>
  <div class="modal-body">
      <form [formGroup]="formulariom" (ngSubmit)="faceptarm()">
          <div class="form-group">
              <label>Celular <span class="text-danger"><b>*</b></span></label>
              <input type="number" class="form-control" formControlName="celular" [class.is-invalid]="fm.celular.errors && fm.celular.touched" />
              <small *ngIf="fm.celular.errors && fm.celular.touched" class="text-danger">
              El dato es obligatorio y solo permite numeros de celulares
              </small>
          </div>
          <div class="form-group">
              <label>Clave de acceso <span class="text-danger"><b>*</b></span></label>
              <input type="password" class="form-control" formControlName="clave" [class.is-invalid]="fm.clave.errors && fm.clave.touched" />
              <small *ngIf="fm.clave.errors && fm.clave.touched" class="text-danger">
              El dato es obligatorio
              </small>
          </div>
          <div class="text-center">
              <button type="submit" class="btn btn-success m-2" [disabled]="!formulariom.valid">
                <i class="fa fa-sign-in"></i> Ingresar
            </button>
              <button type="button" class="btn btn-danger" (click)="fcancelar()">
                <i class="fa fa-times"></i> Cancelar
            </button>
          </div>
      </form>
  </div>
</ng-template>
